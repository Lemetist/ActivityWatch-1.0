{% extends "app/base.html" %}
{% load static %}

{% block style %}
    .nav{
        display: inline-block;
        width: 100%;
        padding: 1%;
    }
    .btn-outline-secondary{
        float: right;
        margin: 0.5vw;
    }
    .btn-outline-primary {
        float: right;
        margin: 0.5vw;
    }
    .logo{
        display: block;
        height: 56px;
        width: auto;
        float: left;
    }
    .boxes{
        padding-left: 5%;
        padding-right: 5%;
    }
    .add {
        float: right;
    }
    .date {
        float: left;
    }
    .date-entry {
        margin-bottom: 50px;
    }
    @media screen and (max-width: 630px){
        .btn-outline-secondary{
            width: 100%;
        }
        .btn-outline-primary {
            width: 100%;
        }
        .logo-div {
            display: flex;
            justify-content: center;
            margin-bottom: 0.5vw;
        }
        .box1-img{
            float: none;
            margin-right: 0;
            justify-content: center;
            margin-top: 5%;
            margin-bottom: 5%;
        }
        .box2-img{
            float: none;
            margin-left: 0;
            justify-content: center;
            margin-top: 5%;
            margin-bottom: 5%;
        }
    }
{% endblock style %}

{% block body %}
    <div class="nav">
        <div class="logo-div">
            <a href={% url 'app:home' %}>
                <img src="{% static 'logo.png' %}" class="logo">
            </a>
        </div>
        <a href={% url 'app:login' %}>
            <Button class="btn btn-outline-secondary">Log In</Button>
        </a>
        <a href={% url 'app:results' %}>
            <Button class="btn btn-outline-secondary">Results</Button>
        </a>
        <a href={% url 'app:foodtracker' %}>
            <Button class="btn btn-outline-primary">Food Tracker</Button>
        </a>
        <a href={% url 'app:exerciselog' %}>
            <Button class="btn btn-outline-secondary">Exercise Log</Button>
        </a>
        <a href={% url 'app:exercises' %}>
            <Button class="btn btn-outline-secondary">Exercises</Button>
        </a>
    </div>

    <div class ="boxes">
        {% for date, foods in data.items %}
            <div class="date-entry">
                <div class="date">
                    <h2>{{ date }}</h2>
                </div>
                <div class="add">
                    <form>
                        <button method="get" name="displayAdd" value={{ date }} class="btn btn-outline-danger">Add</button>
                    </form>
                </div>
                <table class="table table-bordered">
                    <thead>
                        <th style="text-align: center" scope="col">Time</th>
                        <th style="text-align: center" scope="col">Description</th>
                        <th style="text-align: center" scope="col">Calories</th>
                    </thead>
                    <tbody>
                        {% for f in foods %}
                            <tr>
                                <td style="text-align: center">{{ f.time }}</td>
                                <td style="text-align: center">{{ f.description }}</td>
                                <td style="text-align: center">{{ f.calories }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                    <tfoot>
                        <tr>
                            <th style="text-align: center" colspan="2">Total Calories:</th>
                            <th style="text-align: center">{{ date.total_calories }}</th>
                        </tr>
                    </tfoot>
                </table>
                {% if test_cond %}
                <form>
                    <div class="form-group row">
                        <label for="timeInput" class="col-sm-2 col-form-label">Time</label>
                        <div class="col-sm-10">
                            <input type="time" id="timeInput" name="time">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="descInput" class="col-sm-2 col-form-label">Description</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="descInput" name="desc">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="caloriesInput" class="col-sm-2 col-form-label">Calories</label>
                        <div class="col-sm-10">
                            <input type="number" class="form-control" id="caloriesInput" name="calories">
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-10 offset-sm-2">
                            <button method="get" type="submit" class="btn btn-danger">Add</button>
                        </div>
                    </div>
                </form>
                {% endif %}
            </div>
       {% endfor %}
    </div>
{% endblock body %}